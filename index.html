<!DOCTYPE html>
<html>

<meta charset = "utf-8">
<meta name="viewport" content="width=device-width, initial-scale= 1.0 ">
<head>
    <title>EPI</title> 

    <!--Importing all required tools-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <link rel = "stylesheet" href = "styles.css">
    <link href='https://fonts.googleapis.com/css?family=Assistant' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Chango' rel='stylesheet'>
    <meta name="viewport" content="width=device-width, initial-scale= 1.0 ">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
</head>



<!--Navbar-->
<!--Navbar created using bootstrap template includes a toggle-->
<nav class="navbar navbar-expand-lg navbar-light topnav">
    <a class="navbar-brand">Menu</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">

        <li class="nav-item">
          <a class="nav-link" href="#one">What are EPIs</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="#two">How it works</a>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Other
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item background" href="#three">Video explanation</a>
            <a class="dropdown-item background" href="#four">Best EPIs</a>
            <a class="dropdown-item background" href="#five">Ranking Details</a>
            <a class="dropdown-item background" href="#six">Sign up</a>          
        </div>
        </li>

        <li class="nav-item">
            <a class="nav-link" href="#top">Back to top</a>
        </li>

      </ul>
    </div>
  </nav>

<body>

  <!--Importing d3-->
  <script src = "https://d3js.org/d3.v7.min.js"></script>
  <script src="https://d3js.org/d3.v6.js"></script>

  <!--The website banner at the top css class 'banner' includes an image-->
  <div class="banner text-center" id='top'>
    <h1 class="headings text-center myDIV"> Environmental Performance Index</h1>
    <!-- css class 'hide' creates a hover effect meaning when hovering over the title the welcom message appears-->
    <div class = "hide"> Welcome </div>
  </div>

  <div class="row">
    <!-- heading 1: what are epis? -->
    <section id="one" class = "section">
      <h1 class="display-4"> What are EPIs?</h1>
      <p>EPI stands for: Environmental Performance Index 
        <br>This a quantitive way to compare countries environmental behaviour</br>
      </p>
      <p>What is our aim?
        <br>
          The aim of the website is to spread awarness about the epi which is an easy and simple way to measure and compare countries sustainability.
          It is an easy database to pull information from and which the data can be used to pressure countries to be more environmentally aware.
        </br>
      </p>
    </section>
  </div>

  <div class="row">
    <!-- video explaining it autoplays with no sound (does not require) not linked to youtube so can continue playing if by accident internet connection is lost -->
    <video width="320" height="240" autoplay muted id="three" class="centervid">
      <source src="Environmental Performance Index.mp4" type="video/mp4">
      <source src="Environmental Performance Index.ogg" type="video/ogg">
    </video>  
  </div>


  <div class="row background">
    <!--heading 2 how it works-->
    <section id = "two" class = "section">
      <h1 class="display-4">How it works</h1>
      <!--Hyper link included in paragraph below-->
      <p class = "font-italic">***Disclaimer all the information displayed below is a summary of data on the following website <a href = "https://epi.yale.edu/">epi</a>***</p>
      <p>EPI is a data summary of the countries sustainability - it uses 32 performance indicators throughout 11 issue categories</p>
    </section>
    
    <!--Insert an image with information-->
    <figure class = "figure centerimg">
      <img src="epiframework.png" class="img-fluid img-thumbnail centervid" width=500>
      <figcaption class="figure-caption">EPI. (2021, January 1). 2020 EPI Framework [Graph]. 2020 EPI Framework. <a href = "https://epi.yale.edu/">https://epi.yale.edu/</a></figcaption>
    </figure>

  </div>


  <div class="row">
    <!--heading 3 data display-->
    <section id = "four" class="section container-lg">
      <h1 class ="display-4">EPI Results (2020)</h1>
      <p> Below can be found the table of all the EPI results&ranking along with results from each category and information once more taken from the official <a href = "https://epi.yale.edu/">epi</a> website and its database
        <br> Under that is table (2 Variables) representing data for the top 5 ranked countries</br>
      </p>
    </section>

  </div>

  <!--Table & search bar-->
  <!--Search bar: When data entered in it (country name) the rows containing it are displayed this is done through the function search() -->
  <!--Table: Displayed on click of button by being created in the createTable() function, displayed in element with id 'five', scrollable-->
  <div class = "row d-grid gap-2 buttonTable">
    <input type="text" id="searchBar" onkeyup="search()" placeholder="Search table by name (once loaded)">
    <input class = "button" type='button' onclick="createTable()" value='Click to see full table'/>
    <p id = "five" class = "scrollable"></p>
  </div>

  <!--Bar chart button able to present different variables onclick, bar chart displayed in element with id 'seven'-->
  <div class = "row">
    <button class = "left button" onclick="update(data1)">EPI Scores 2020</button>
    <button class = "left button" onclick="update(data2)">EPI Change over 10 years</button>
    <div id = "seven"></div>
  </div>

  <div class="row background">
    <!--Sign me up form user input-->
    <form id = "six" class="centerForm" >
      <h1 class = "display-4">Want more info? Sign up</h1>
      <div class="form-group">
        <label for="userEmail">Email address</label>
        <input type="email" class="form-control" id="userEmail" aria-describedby="emailHelp">
        <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.
          This will be used to offer you more information
        </small>
      </div>
      <div class="form-group">
        <label for="commentUser">Comment</label>
        <input type="text" class="form-control" id="commentUser">
        <var comment = "commentUser"> </var>
        <small id="commentUser" class="form-text text-muted"> Leave us a comment if you want</small>
      </div>
      <!--Submit button; when clicked it refers back to the function submitData which will result in an alert-->
        <button type="submit" class="btn btn-primary padding" onclick= submitData()>Submit</button>
    </form>
  </div>     
  
  <div class = "row">
    <!--Extra buttons with extra info-->
    <!--First button offers a list of abreviation and their meanings; onclick it will show or hide the list based on its display status; done through openList function-->
    <button type="button" class="button" onclick="openList()">Abreviation Meanings</button>
    <div id = "abrevList" style = "display: none;">
      <li>HLT; Environmental Health</li>
      <li>AIR; Air Quality</li>
      <li>PMD; PM2.5 Exposure</li>
      <li>HAD; Household Solid Fuels</li>
      <li>OZD; Ozone Exposure</li>
      <li>H20 Sanitation & Drinking Water</li>
      <li>USD; Unsafe Sanitation</li>
      <li>UWD; Unsafe Drinking Water</li>
      <li>HMT; Heavy Metals</li>
      <li>PBD; Lead Exposure</li>
      <li>WMG; Waste Management</li>
      <li>MSW; Controlled Solid Waste</li>
      <li>ECO; Ecosystem Vitality</li>
      <li>BDH; Biodiversity & Habitat</li>
      <li>TBN; Terrestrial biome protection (national weights)</li>
      <li>TBG; Terrestrial biome protection (global weights)</li>
      <li>MPA; Marine protected areas</li>
      <li>PAR; Protected Areas Representativeness Index</li>
      <li>SHI; Species Habitat Index</li>
      <li>SPI; Species Protection Index</li>
      <li>BHV; Biodiversity Habitat Index</li>
      <li>ECS; Ecosystem Services</li>
      <li>TCL; Tree cover loss</li>
      <li>GRL; Grassland loss</li>
      <li>WTL; Wetland loss</li>
      <li>FSH; Fisheries</li>
      <li>FSS; Fish Stock Status</li>
      <li>RMS; Marine Trophic Index</li>
      <li>FGT; Fish caught by trawling</li>
      <li>CCH; Climate Change</li>
      <li>CDA; Adjusted emission growth rate for carbon dioxide</li>
      <li>CHA; Adjusted emission growth rate for methane</li>
      <li>FGA; Adjusted emission growth rate for F-gases</li>
      <li>NDA; Adjusted emission growth rate for nitrous oxide</li>
      <li>BCA; Adjusted emission growth rate for black carbon</li>
      <li>LCB; Growth rate in carbon dioxide emissions from land cover</li>
      <li>GIB; Greenhouse gas intensity growth rate</li>
      <li>GHP; Greenhouse gas emissions per capita</li>
      <li>APE; Pollution Emissions</li>
      <li>SDA; Adjusted emission growth rate for sulfer dioxide</li>
      <li>NXA; Adjusted emission growth rate for nitrous oxides</li>
      <li>AGR; Agriculture</li>
      <li>SNM; Sustainable Nitrogen Management Index</li>
      <li>WRS; Water Resources</li>
      <li>WWT; Wastewater treatment</li>

    </div>
    <!--Button 2; hyperlink to faq-->
    <button type="button" class="button" onclick="window.location.href = 'https://epi.yale.edu/faq/epi-faq'; ">Frequently Asked Questions</button>
    <!--Button 3; hyperlink to an extra youtube video-->
    <button type="button" class="button" onclick="window.location.href = 'https://www.youtube.com/watch?v=KulPCCdkkJc&t=1s';">Extra Youtube Vid</button>
  </div>



  <!--Tools required links-->
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.11.0/d3.js"></script>

  <script src = "data.js"></script>
  <script src = "jsfile.js"></script>
</body>



</html>